"use strict";(self.webpackChunkngx_clinic_manger=self.webpackChunkngx_clinic_manger||[]).push([[744],{4744:(H,g,r)=>{r.r(g),r.d(g,{EmployeeModule:()=>K});var d=r(6895),u=r(7732),a=r(433),e=r(1571),b=r(529);let y=(()=>{class n{constructor(t){this.http=t,this.listPage="/employee",this.id="employeeId",this.requestSent=!1,this.departmentList=[{departmentId:1,departmentName:"Finance"},{departmentId:2,departmentName:"IT"}],this.datePickerConfig={dateInputFormat:"DD/MM/YYYY",containerClass:"theme-dark-blue",showWeekNumbers:!1}}getAll(){this.requestSent||(this.requestSent=!0,this.list=void 0,this.http.get("Employee/GetAll").subscribe({next:t=>{this.list=t,this.requestSent=!1},error:t=>{this.list=[{employeeId:1,name:"John wick",employmentDate:"12/1/2020",salary:"2000",experience:null,department:1},{employeeId:2,name:"George",employmentDate:"5/10/2018",salary:"5000",experience:null,department:2},{employeeId:3,name:"Alfied",employmentDate:"15/2/2021",salary:"2000",experience:null,department:2},{employeeId:4,name:"Charilote",employmentDate:"1/1/2022",salary:"4000",experience:null,department:1}],this.requestSent=!1}}))}delete(t){this.http.delete("Employee/Delete/"+t).subscribe({next:()=>{this.getAll()},error:()=>{let o=this.list.map(l=>l.employeeId).indexOf(t);this.list.splice(o,1)}})}Random(){let t=Math.floor(65536*(1+Math.random()));return Number(t)}operation(t){null==t[this.id]?this.http.post("Employee/Insert",t).subscribe({error:()=>{t.employeeId=this.Random(),this.list.push(t)}}):this.http.put("Employee/Edit",t).subscribe({error:()=>{this.list.find(o=>{o.departmentId==t.departmentId&&(o.desc=t)})}})}search(t){return this.http.post("Employee/Search",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(b.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Z=r(388),x=r(4506),v=r(2320),h=r(5226);let T=(()=>{class n{transform(t,o,l){const s=Object.keys(o);let m=!0;for(let p=0;p<s.length;p++)if(null!=o[s[p]]){m=!1;break}if(!o||m||!Array.isArray(t))return t;if(o&&Array.isArray(t)){const p=Object.keys(o);return t.filter(l?f=>p.reduce((c,_)=>c&&new RegExp(o[_],"gi").test(f[_])||""==o[_],!0):f=>p.some(c=>new RegExp(o[c],"gi").test(f[c])||""==o[c]))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"filter",type:n,pure:!0}),n})(),A=(()=>{class n{transform(t,o,l){return t&&o&&l?t.filter(s=>s[o]==l):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"filterById",type:n,pure:!0}),n})();const k=["operationModal"];function C(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"a",20),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleMenu())}),e.TgZ(2,"span",11),e._UZ(3,"i",21),e.qZA()()()}}function q(n,i){if(1&n&&(e.TgZ(0,"ng-option",45),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.departmentId),e.xp6(1),e.Oqu(t.departmentName)}}function w(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25)(4,"div",6)(5,"h2"),e._uU(6,"Filters"),e.qZA()(),e.TgZ(7,"div",9)(8,"a",26),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleMenu())}),e.TgZ(9,"span",11),e._UZ(10,"i",27),e.qZA()()()(),e.TgZ(11,"form",28)(12,"div",29)(13,"label",30),e._uU(14,"Name"),e.qZA(),e._UZ(15,"input",31),e.qZA(),e.TgZ(16,"div",32)(17,"label",33),e._uU(18,"Employment Date"),e.qZA(),e._UZ(19,"input",34),e.qZA(),e.TgZ(20,"div",32)(21,"label",33),e._uU(22,"Department Name"),e.qZA(),e.TgZ(23,"ng-select",35),e.YNc(24,q,2,2,"ng-option",36),e.qZA()(),e.TgZ(25,"div",32)(26,"label",30),e._uU(27,"Salary"),e.qZA(),e._UZ(28,"input",37),e.qZA(),e.TgZ(29,"div",32)(30,"label",33),e._uU(31,"Experience"),e.qZA(),e.TgZ(32,"ng-select",38)(33,"ng-option",39),e._uU(34,"Less than a year"),e.qZA(),e.TgZ(35,"ng-option",40),e._uU(36,"From 1-3 years"),e.qZA(),e.TgZ(37,"ng-option",41),e._uU(38,"3 years or above"),e.qZA()()(),e.TgZ(39,"div",42)(40,"button",43),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.reset())}),e._uU(41," NewSearch"),e.qZA(),e.TgZ(42,"button",44),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onSubmit())}),e._uU(43," Search "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("formGroup",t.searchForm),e.xp6(4),e.Q6J("formControl",t.search),e.xp6(4),e.Q6J("bsConfig",t.employeeSer.datePickerConfig),e.xp6(5),e.Q6J("ngForOf",t.employeeSer.departmentList),e.xp6(8),e.Q6J("multiple",!0)("maxSelectedItems",2)("closeOnSelect",!1)}}function E(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",55),e._uU(12),e.ALo(13,"filterById"),e.qZA(),e.TgZ(14,"td")(15,"a",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(3),p=e.MAs(22);return e.KtG(m.operation(p,s))}),e._UZ(16,"i",57),e.qZA(),e.TgZ(17,"a",58),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(3);return e.KtG(m.employeeSer.delete(s.employeeId))}),e._UZ(18,"i",59),e.qZA()()()}if(2&n){const t=i.$implicit,o=i.index,l=e.oxw(3);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.employmentDate),e.xp6(2),e.Oqu(t.salary),e.xp6(2),e.Oqu(t.experience),e.xp6(2),e.hij(" ",null==e.Dn7(13,6,l.employeeSer.departmentList,"departmentId",t.department)[0]?null:e.Dn7(13,6,l.employeeSer.departmentList,"departmentId",t.department)[0].departmentName," ")}}function U(n,i){if(1&n&&(e.TgZ(0,"div",49)(1,"table",50)(2,"thead",51)(3,"tr",52)(4,"th"),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"EmploymentDate"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Salary"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Experience"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Department"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"tools"),e.qZA()()(),e.TgZ(18,"tbody",53),e.YNc(19,E,19,10,"tr",54),e.qZA()()()),2&n){const t=e.oxw().ngIf;e.xp6(19),e.Q6J("ngForOf",t)}}function I(n,i){1&n&&(e.TgZ(0,"div",55),e._UZ(1,"img",60),e.TgZ(2,"h1"),e._uU(3,"NO DATA"),e.qZA()())}function N(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",46),e.YNc(2,U,20,1,"div",47),e.YNc(3,I,4,0,"ng-template",null,48,e.W1O),e.qZA(),e.BQk()),2&n){const t=i.ngIf,o=e.MAs(4);e.xp6(2),e.Q6J("ngIf",t.length>0)("ngIfElse",o)}}function S(n,i){1&n&&(e.TgZ(0,"h3",80)(1,"span",81),e._uU(2,"Add"),e.qZA()())}function F(n,i){1&n&&(e.TgZ(0,"h3",80)(1,"span",81),e._uU(2,"Edit"),e.qZA()())}function L(n,i){1&n&&(e.TgZ(0,"div",83),e._uU(1," Name IsRequired "),e.qZA())}function M(n,i){if(1&n&&(e.ynx(0),e.YNc(1,L,2,0,"div",82),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.name.errors.required)}}function J(n,i){if(1&n&&(e.TgZ(0,"ng-option",45),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.departmentId),e.xp6(1),e.Oqu(t.departmentName)}}function D(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return l.employeeSer.delete(l.f.employeeId.value),e.KtG(l.modalRef.hide())}),e.TgZ(1,"span"),e._uU(2," Delete "),e.qZA()()}}const Y=function(n){return{"is-invalid":n}};function Q(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",62),e.YNc(2,S,3,0,"h3",63),e.YNc(3,F,3,0,"h3",63),e.TgZ(4,"div",9)(5,"button",64),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.modalRef.hide())}),e._UZ(6,"i",65),e.qZA()()(),e.TgZ(7,"div",66)(8,"form",67)(9,"div",68)(10,"div",69)(11,"div",70)(12,"label",71),e._uU(13," Name"),e.qZA(),e._UZ(14,"input",72),e.qZA(),e.YNc(15,M,2,1,"ng-container",17),e.TgZ(16,"div",32)(17,"label",33),e._uU(18,"Employment Date"),e.qZA(),e._UZ(19,"input",34),e.qZA(),e.TgZ(20,"div",32)(21,"label",33),e._uU(22,"Department Name"),e.qZA(),e.TgZ(23,"ng-select",73),e.YNc(24,J,2,2,"ng-option",36),e.qZA()(),e.TgZ(25,"div",32)(26,"label",30),e._uU(27,"Salary"),e.qZA(),e._UZ(28,"input",37),e.qZA()()(),e.TgZ(29,"div",74)(30,"button",75),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.modalRef.hide())}),e._UZ(31,"i",76),e.TgZ(32,"span"),e._uU(33," Back "),e.qZA()(),e.YNc(34,D,3,0,"button",77),e.TgZ(35,"button",78),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onSubmitOperation())}),e._UZ(36,"i",79),e.TgZ(37,"span"),e._uU(38," Save "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",null==t.f.employeeId.value),e.xp6(1),e.Q6J("ngIf",t.f.employeeId.value>0),e.xp6(5),e.Q6J("formGroup",t.employeeForm),e.xp6(6),e.Q6J("ngClass",e.VKq(9,Y,t.submitted&&t.f.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.name.errors),e.xp6(4),e.Q6J("bsConfig",t.employeeSer.datePickerConfig),e.xp6(5),e.Q6J("ngForOf",t.employeeSer.departmentList),e.xp6(10),e.Q6J("ngIf",null!=t.f.employeeId.value),e.xp6(1),e.Q6J("disabled",t.requestSent)}}const O=function(n){return{name:n}},G=[{path:"",component:(()=>{class n{constructor(t,o,l,s,m){this.employeeSer=t,this.router=o,this.formBuilder=l,this.modalService=s,this.activatedRoute=m,this.search=new a.NI(null),this.requestSent=!1,this.showMenu=!0,this.initialModel(),this.employeeSer.getAll()}initialModel(){this.searchForm=this.formBuilder.group({name:[null,[]],employmentDate:[null,[]],salary:[null,[]],department:[null,[]],experience:[null,[]]})}get fs(){return this.searchForm.controls}get f(){return this.employeeForm.controls}toggleMenu(){this.showMenu=!this.showMenu}operation(t,o){this.employeeForm=this.formBuilder.group({employeeId:[null,[]],name:[null,[a.kI.required]],employmentDate:[null,[]],salary:[null,[]],experience:[null,[]],department:[null,[]]}),null!=o&&this.employeeForm.setValue(o),this.modalRef&&this.modalRef.hide(),this.modalRef=this.modalService.show(t,{class:"modal-md"})}onSubmit(){this.requestSent||(this.requestSent=!0,this.employeeSer.search(this.searchForm.value))}onSubmitOperation(){const t=this.employeeForm.value;t.employmentDate=t.employmentDate.toLocaleDateString("en-US"),this.employeeSer.operation(t),this.modalRef.hide()}reset(){this.initialModel(),this.onSubmit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y),e.Y36(u.F0),e.Y36(a.qu),e.Y36(Z.tT),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(k,5),2&t){let l;e.iGM(l=e.CRH())&&(o.operationModal=l.first)}},decls:23,vars:8,consts:[[1,"container-fluid"],[1,"d-flex","flex-column","flex-lg-row"],["class","flex-column flex-lg-row-auto w-30 w-lg-30px mb-10 mb-lg-0 mt-5",4,"ngIf"],["class","flex-column flex-lg-row-auto w-100 w-lg-275px mb-10 mb-lg-0",4,"ngIf"],[1,"flex-lg-row-fluid","ms-lg-7","ms-xl-10","card"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1","me-5"],[1,"d-flex","flex-column","text-dark","fw-bolder","my-0","fs-1"],[1,"card-toolbar"],["type","button",1,"btn","btn-light-primary",3,"click"],[1,"svg-icon","svg-icon-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.3","x","2","y","2","width","20","height","20","rx","5","fill","black"],["x","10.8891","y","17.8033","width","12","height","2","rx","1","transform","rotate(-90 10.8891 17.8033)","fill","black"],["x","6.01041","y","10.9247","width","12","height","2","rx","1","fill","black"],[1,"card-body","pt-0"],[4,"ngIf"],["operationModal",""],[1,"flex-column","flex-lg-row-auto","w-30","w-lg-30px","mb-10","mb-lg-0","mt-5"],[1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"fa-solid","fa-forward-fast"],[1,"flex-column","flex-lg-row-auto","w-100","w-lg-275px","mb-10","mb-lg-0"],["data-kt-sticky","false","data-kt-sticky-name","inbox-aside-sticky","data-kt-sticky-offset","{default: false, xl: '0px'}","data-kt-sticky-width","{lg: '275px'}","data-kt-sticky-left","auto","data-kt-sticky-top","150px","data-kt-sticky-animation","false","data-kt-sticky-zindex","95",1,"card","card-flush","mb-0"],[1,"card-body","p-0"],[1,"card-header"],[1,"btn","btn-sm","btn-light","btn-icon",3,"click"],[1,"fa-solid","fa-backward-fast"],[1,"form","mb-15","fv-plugins-bootstrap5","fv-plugins-framework","m-5",3,"formGroup"],[1,"d-flex","flex-column","mb-5","fv-row"],[1,"fs-5","fw-bold","mb-2"],["placeholder","name","name","name","formControlName","name",1,"form-control","form-control-solid",3,"formControl"],[1,"mb-5"],[1,"form-label"],["type","text","bsDatepicker","","formControlName","employmentDate","autocomplete","off",1,"form-control","form-control-solid",3,"bsConfig"],["formControlName","department","name","department"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","salary","name","salary","placeholder","salary",1,"form-control","form-control-solid"],["formControlName","experience",3,"multiple","maxSelectedItems","closeOnSelect"],["value","1"],["value","2"],["value","3"],[1,"d-flex","justify-content-evenly"],["type","button","data-kt-menu-dismiss","true",1,"btn","btn-light","btn-active-light-primary","fw-bold","px-6",3,"click"],["type","button","data-kt-menu-dismiss","true","data-kt-user-table-filter","filter",1,"btn","btn-primary","fw-bold","px-6",3,"click"],[3,"value"],[1,"dataTables_wrapper","dt-bootstrap4","no-footer"],["class","table-responsive",4,"ngIf","ngIfElse"],["noDataTemplate",""],[1,"table-responsive"],[1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable","no-footer"],[2,"text-align-last","center"],[1,"text-start","text-gray-400","fw-bold","fs-7","text-uppercase","gs-0"],[1,"fw-semibold","text-gray-600","text-center"],[4,"ngFor","ngForOf"],[1,"text-center"],["tooltip","Edit",1,"btn","btn-icon","btn-light-success","btn-circle","btn-sm","m-2",3,"click"],[1,"fa","fa-edit"],["tooltip","Delete",1,"btn","btn-icon","btn-light-danger","btn-circle","btn-sm","m-2",3,"click"],[1,"fa","fa-trash"],["src","assets/image/5.png",1,"mx-auto","col-lg-6","col-10"],[1,"card"],[1,"card-header","border-b"],["class","card-title align-items-start flex-column",4,"ngIf"],["type","button","tooltip","Close",1,"btn","btn-sm","btn-danger","pt-2","pb-2","ps-3","pe-2","border-radius-100",3,"click"],[1,"fa-solid","fa-xmark","fs-3"],[1,"card-body","py-0","pt-2"],[3,"formGroup"],[1,"row"],[1,"card","card-custom","gutter-b"],[1,"form-group","col-md-12"],[1,"fs-5","fw-bold","my-2"],["type","text","formControlName","name","name","name","placeholder","Name",1,"form-control","form-control-solid",3,"ngClass"],["formControlName","department"],[1,"card-footer","text-center","px-0"],["type","button",1,"btn","btn-secondary","btn-sm","mx-1",3,"click"],[1,"fa","fa-arrow-left"],["type","button","class","btn btn-danger btn-sm mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success","btn-sm","mx-1",3,"disabled","click"],[1,"fa","fa-save"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],["type","button",1,"btn","btn-danger","btn-sm","mx-1",3,"click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,C,4,0,"div",2),e.YNc(3,w,44,7,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),e._uU(9,"Employees"),e.qZA()()(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){e.CHM(l);const m=e.MAs(22);return e.KtG(o.operation(m))}),e.TgZ(12,"span",11),e.O4$(),e.TgZ(13,"svg",12),e._UZ(14,"rect",13)(15,"rect",14)(16,"rect",15),e.qZA()(),e._uU(17," Add Employee"),e.qZA()()(),e.kcU(),e.TgZ(18,"div",16),e.YNc(19,N,5,2,"ng-container",17),e.ALo(20,"filter"),e.qZA()()()(),e.YNc(21,Q,39,11,"ng-template",null,18,e.W1O)}2&t&&(e.xp6(2),e.Q6J("ngIf",!o.showMenu),e.xp6(1),e.Q6J("ngIf",o.showMenu),e.xp6(16),e.Q6J("ngIf",e.xi3(20,3,o.employeeSer.list,e.VKq(6,O,o.search.value))))},dependencies:[d.mk,d.sg,d.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.oH,a.sg,a.u,x.Np,x.Y5,v.i9,h.w9,h.jq,T,A],encapsulation:2}),n})()}];let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(G),u.Bz]}),n})();var B=r(948);let K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[y],imports:[d.ez,R,B.I.forRoot()]}),n})()}}]);